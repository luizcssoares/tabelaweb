<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://java.sun.com/jsf/html"  
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"             
      xmlns:p="http://primefaces.org/ui">            
<h:head>
   <title>Login</title>         
</h:head>
<h:body>     
   <h:form id="frmAutor">                                               
        <p:commandButton value="Buscar Autores"                                                  
                         styleClass="ui button icon labeled" 
                         onclick="PF('buscaAutor').show();" />
                         
        <div class="field">	 	 
		     <p:dataTable id="tblAutor" 
		                  emptyMessage="Nao existe autores cadastradas !" 
		                  var="cursor" 
		                  value="#{propostaMB.listaAutoresTemp}">	
		       <f:facet name="header">
                  Lista Autores
               </f:facet>                   		       
		       <p:column headerText="Nome" width="15%">
		   	     <h:outputText value="#{cursor.nome}" />
		       </p:column>  
		       <p:column headerText="Email" width="20%">
		   	     <h:outputText value="#{cursor.email}" />
		       </p:column>			           	    	
		     </p:dataTable>
		</div>                 
                                                                
        <p:dialog header="" widgetVar="buscaAutor" minHeight="40">
	      <div class="header item">
		    <h:graphicImage styleClass="ui logo" name="images/bnb-logo-min.png"	library="assets" />
		  </div>	
		  <div class="ui clearing segment">
		  	 <h3 class="ui left floated header">Busca Autor</h3>
		  </div>	
		 
		  <div class="field">	 	 
		     <p:dataTable id="tblDialogAutor" 
		                  emptyMessage="Nao existe autores cadastradas !"
		                  selection="#{propostaMB.listaAutoresSelecionada}" rowKey="#{cursor.nome}" 
		                  var="cursor" 
		                  value="#{propostaMB.listaAutores}">
		       <f:facet name="header">
                  Lista Autores
               </f:facet>           
		       <p:column selectionMode="multiple" style="width:16px;text-align:center"/>		       		                  	    		      
		       <p:column headerText="Nome" width="15%">
		   	     <h:outputText value="#{cursor.nome}" />
		       </p:column>  
		       <p:column headerText="Email" width="20%">
		   	     <h:outputText value="#{cursor.email}" />
		       </p:column>			           	    	
		     </p:dataTable>
		     <p:commandButton value="Importar Marcados"                                                  
                         styleClass="ui button icon labeled"    
                         action="#{propostaMB.temp()}"                                                                                                                       
                         oncomplete="PF('buscaAutor').hide();">                            
                         <p:ajax ajax="true" event="click" process="@this" update=":frmAutor:tblAutor" />
             </p:commandButton>                                                                                    
		  </div>	 
        </p:dialog>
                                                                   
   </h:form>             
</h:body>
</html>
